<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Wikisource Reader App</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a href="./index.html" class="navbar-brand mb-0 h1">Wikisource Reader App</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item"><a class="nav-link scroll" href="./index.html#description">About</a></li>
                    <li class="nav-item"><a class="nav-link scroll" href="./index.html#community">Community</a></li>
                    <li class="nav-item"><a class="nav-link scroll" href="./index.html#features">Features</a></li>
                    <li class="nav-item"><a class="nav-link scroll" href="./index.html#usage">Usage</a></li>
                    <li class="nav-item"><a class="nav-link scroll" href="./faq.html">FAQ</a></li>
					<li class="nav-item"><a class="nav-link scroll" href="./privacy-policy.html">Privacy Policy</a></li>
                    <li class="nav-item"><a class="nav-link active" href="./docs.html">Documentation</a></li>
                    <li class="nav-item "><btn class="nav-link scroll toggle-theme"></btn>
                </ul>
            </div> <!-- .collapse -->
        </div> <!-- .container -->
    </nav>

    <div class="container text-left my-3" id="docs">
        <h2 id="docs_title"><a href="#docs_title">Wikisource Reader Docs</a></h2>
        <p>Welcome to Wikisource Reader app documentation!</p>

        <h2 id="docs_what"><a href="#docs_what">What is Wikisource Reader?</a></h2>
        <p>Wikisource Reader app is a free and open-source mobile application built for Android users to read public domain and copyright free pre-published contents in various languages of the world, which are hosted in the open and free digital library website of Wikisource. The digitized contents on Wikisoruce are transcribed and proofread by a vibrant community to make them freely and openly accessible and searchable for everyone to read. Wikisource Reader App is a step further to make these contents available for android mobile users.</p>
                
        <h2 id="docs_usage"><a href="#docs_usage">How to use the docs</a></h2>
        <p>The docs are organized into 2 sections:</p>

        <ol>
            <li><a href="#api"> WSIndex </a> which is an API built in Django </li>
            <li><a href="#android"> Wikisource Reader App </a> which is an Android Application Built in Kotlin</li>
        </ol>

        <div class="section-divider"></div>

        <h3 id="api"><a class="text-primary" href="#api">WSIndex</a></h3>

        <p>Wikisource catalog API for proofread and validated books. Loosely based on <a href="https://github.com/garethbjohnson/gutendex">https://github.com/garethbjohnson/gutendex </a></p>
        <p>This is a simple API which gets data from Wikidata following the Books Data Model for Wikisource works.</p>
        <p>Source Code : <a href="https://codeberg.org/ph4ni/wsindex"> https://codeberg.org/ph4ni/wsindex </a> </p>
        <p>Hosted on toolforge at: <a href="https://wsindex.toolforge.org/books/"> https://wsindex.toolforge.org/books/ </a> </p>

        <h5 id="technologies_api" href="#technologies_api" class="font-weight-bold font-italic">Built With: </h5>
        <p>The following core technologies were used to build this application:</p>
        <ul>
            <li>Python ^3.10 - The primary programming language.</li>
            <li> <a href="https://docs.djangoproject.com/en/6.0/">Django ^5.1.3 </a> - The high-level Python Web framework.</li>
        </ul>

        <h5 id="geting_started_api" href="#geting_started_api" class="font-weight-bold font-italic"> Getting Started Locally:</h5>
        <p>Follow these instructions to get a copy of the project up and running on your local machine for development and testing purposes.</p>

        <h5 id="Prerequisites_api" href="#Prerequisites_api" class="font-weight-bold font-italic"> Prerequisites: </h5>
        <p>You will need to ensure your system meets the following requirements:</p>

        <ul>
            <li>Hardware Requirements</li>
            <ol>
                <li> RAM: 4GB or higher </li>
                <li> Storage: 20GB or more of free space </li>
            </ol>

            <li> Supported Operating Systems </li>
            <ol>
                <li>Windows: 10+ </li>
                <li> Linux: Kernel 3.8+ </li>
                <li> MacOS: X 10.7+ </li>
            </ol>

            <li> Software Environment </li>
            <ol>
                <li> Python: version 3.10 or above </li>
                <li> Environment: A tool to manage your python environment (e.g., virtualenv, venv) </li>
            </ol>
        </ul>

        <h5 id="running_api_locally" href="#running_api_locally" class="font-weight-bold font-italic"> Running project Locally: </h5>
        <p>To run wsindex locally, create a fork of the following repository <a href="https://codeberg.org/ph4ni/wsindex">https://codeberg.org/ph4ni/wsindex</a> to your codeberg account then follow these steps: </p>

        <ol>
            <li>
                <p><strong>Clone the Repository</strong></p>
                <p>Replace <code>YOUR_USERNAME</code> with your actual Codeberg username.</p>
                <pre><code>git clone ssh://git@codeberg.org/YOUR_USERNAME/wsindex.git</code></pre>
                <pre><code>cd wsindex </code> </pre>
                        
            </li>

            <li>
            <p><strong>Initialize and Activate Virtual Environment</strong></p>
            <pre><code># Initialize virtual environment: </code> </pre>
            <pre><code>virtualenv venv </code> </pre>
            <pre><code># For Linux/macOS: </code> </pre>
            <pre><code>source venv/bin/activate </code> </pre>
            <pre><code># For Windows: </code> </pre>
            <pre><code>.\venv\Scripts\activate </code> </pre>
            </li>

            <li>
                <strong>Install Dependencies</strong>
                <pre><code>pip install -r requirements.txt</code></pre>
            </li>

            <li>
            <p><strong>Replace the database settings in wsindex/settings.py with the following for a lightweight SQLite database:</strong></p>
            <pre><code>DATABASES = {</code></pre>
            <pre><code>    'default': {</code></pre>
            <pre><code>        'ENGINE': 'django.db.backends.sqlite3',</code></pre>
            <pre><code>        'NAME': BASE_DIR / 'db.sqlite3',</code></pre>
            <pre><code>    } </code></pre>
            <pre><code>} </code></pre>
            </li>

            <li>
                <p><strong>Apply Database Migrations</strong></p>
                <pre><code>python manage.py migrate</code></pre>
            </li>

            <li>
                <p><strong>Import Books from Wikidata</strong></p>
                <pre><code>python manage.py updatecatalog</code></pre>
            </li>

            <li>
                <p><strong>Run Local Server</strong></p>
                <pre><code>python manage.py runserver</code></pre>
            </li>
            <li>
                <p><strong>Navigate to the following address to view imported books.</strong></p>
                <pre><code>http://127.0.0.1:8000/books/</code></pre>
            </li>
            <li>
                <p>Incase of a <strong> 404 or Not found </strong> error, add <strong> 127.0.0.1:8000 </strong> to allowed hosts in <strong> wsindex/settings.py </strong>.</p>
            </li>
        </ol>

        <div class="section-divider"></div>


  
        <h2 id="android"><a class="text-primary" href="#android">Wikisource Reader App</a></h2>

        <p>This is the mobile client for the Wikisource Reader, providing an optimized interface for reading validated public domain texts. It consumes data from the WSIndex API to display curated collections.</p> 
        <p>The app is built using modern Android standards with a focus on offline accessibility and ePUB rendering.</p> 
        <p>Source Code : <a href="https://github.com/cis-india/Wikisource-Reader"> https://github.com/cis-india/Wikisource-Reader </a> </p> 
        <p>Available on: <a href="https://play.google.com/store/apps/details?id=org.cis_india.wsreader"> Google Play Store </a> </p>

        <h5 id="technologies_android" href="#technologies_android" class="font-weight-bold font-italic">Built With: </h5> 
        <p>The following core technologies and frameworks were used to build the mobile application:</p> 
        <ul> 
            <li> <a href="https://kotlinlang.org/docs/home.html"> Kotlin ^2.0.21 </a> - The primary programming language for modern Android development.</li> 
            <li> <a href="https://developer.android.com/develop/ui/compose/documentation">Jetpack Compose </a> - The modern toolkit for building UI.</li> 
            <li> <a href="https://developer.android.com/training/data-storage/room"> Room Database </a>- For local storage of book metadata and reading progress.</li> 
            <li> <a href="https://readium.org/kotlin-toolkit/2.4.0/"> Readium </a> - The heavy-duty engine used for ePUB parsing and rendering.</li> 
        </ul>

        <h5 id="getting_started_android" href="#getting_started_android" class="font-weight-bold font-italic"> Getting Started Locally:</h5> 
        <p>Follow these instructions to set up the development environment and run the application on an emulator or physical device.</p>

        <h5 id="Prerequisites_android" href="#Prerequisites_android" class="font-weight-bold font-italic"> Prerequisites: </h5> 
        <p>You will need to ensure your development environment meets the following requirements:</p>

        <ul> 
            <li>Hardware Requirements</li> 
                <ol> 
                    <li> RAM: 8GB or higher (16GB recommended for Android Studio) </li> 
                    <li> Storage: 10GB or more of free space for SDKs and Build tools </li> 
                </ol>
            <li> Software Environment </li>
                <ol>
                    <li> Android Studio: Ladybug (2024.2.1) or above </li>
                    <li> JDK: Java Development Kit (JDK) 17 </li>
                    <li> Android SDK: API Level 34 (Target SDK) </li>
                </ol>
        </ul>

        <h5 id="running_android_locally" href="#running_android_locally" class="font-weight-bold font-italic"> Running project Locally: </h5> 
        <p>To build and run the app locally, follow these steps:</p>

        <ol> 
        <li> 
            <p><strong>Clone the Repository</strong></p> 
            <pre><code>git clone https://github.com/cis-india/Wikisource-Reader.git</code></pre> 
            <pre><code>cd Wikisource-Reader </code> </pre> 
        </li>

        <li>
            <p><strong>Open in Android Studio</strong></p>
            <p>Launch Android Studio, select <strong>File > Open</strong>, and navigate to the cloned project directory. Allow Gradle to sync and download necessary dependencies.</p>
        </li>

        <li>
            <p><strong>Run on Device or Emulator</strong></p>
            <p>Connect a physical device via USB (with Debugging enabled) or start a Virtual Device (AVD). Press <strong>Shift + F10</strong> or click the green <strong>Run</strong> button in the toolbar.</p>
            <p>You can also pair your devece via WIFI instead of using USB. Once you enable developer mode on your android phone, You will find both pair via usb or WIFI.</p>
        </li>

        <li>
            <p><strong>Pointing to Local API (Optional)</strong></p>
            <p>If you are running WSIndex locally and want the app to connect to it, update the <code>baseApiUrl</code> in the <code>api/BookApi</code> to your local IP:</p>

            <pre><code>// If you are running on Emulator</code></pre>

            <pre><code>private val baseApiUrl = "http://10.0.2.2:8000/books"</code></pre>

            <pre>// Use IP address of your host machine(PC), when you want to run in physical device.</code></pre>

            <pre><code>private val baseApiUrl = "http://192.168.100.2:8000/books".</code></pre>


        </li>
        </ol>

        <h5 id="allow_http_traffic" href="#allow_http_traffic" class="font-weight-bold font-italic"> Allowing HTTP Traffic for Local Development: </h5> <p>By default, Android prevents apps from connecting to servers via unencrypted HTTP. To connect the app to your local instance of <strong>WSIndex</strong>, follow these steps to configure Network Security:</p>

<ol> <li> <p><strong>Create the Network Security Directory</strong></p> <p>In your project explorer, navigate to <code>app/src/main/res</code>. If an <code>xml</code> folder does not exist, right-click <strong>res</strong>, select <strong>New > Directory</strong>, and name it <code>xml</code>.</p> </li>

<li>
    <p><strong>Create the Config File</strong></p>
    <p>Right-click on the <code>res/xml</code> folder and select <strong>New > XML Resource File</strong>. Name it <code>network_security_config.xml</code> and replace its contents with the following:</p>
<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt; 
    &lt;network-security-config&gt; 
        &lt;domain-config cleartextTrafficPermitted="true"&gt; 
            &lt;domain includeSubdomains="true"&gt;192.168.100.2&lt;/domain&gt; // Host IP
            &lt;domain includeSubdomains="true"&gt;10.0.2.2&lt;/domain&gt; 
            &lt;domain includeSubdomains="true" &gt;127.0.0.1&lt;/domain&gt; 
        &lt;/domain-config&gt; 
    &lt;/network-security-config&gt;</code></pre>

</li>

<li>
    <p><strong>Link the Configuration in the Manifest</strong></p>
    <p>Android requires you to register this file in the application manifest to apply the security exceptions.</p>
    <p>Open <code>app/src/main/AndroidManifest.xml</code> and add the <code>android:networkSecurityConfig</code> attribute inside the <code>&lt;application&gt;</code> tag:</p>
<pre><code>&lt;application android:name=".WikisourceApplication" android:networkSecurityConfig="@xml/network_security_config" 
    ... &gt; &lt;!-- Activities and Services --&gt; 
&lt;/application&gt;</code></pre>

</li>
</ol>


        
    </div>
    <div class="section-divider"></div>
            
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>

    <script  src="js/index.js"></script>
</body>
</html>
